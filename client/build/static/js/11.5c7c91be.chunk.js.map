{"version":3,"sources":["pages/Login/Signup.js","helpers/auth.js","../node_modules/js-cookie/src/js.cookie.js"],"names":["Register","history","useState","name","email","password1","password2","formData","setFormData","handleChange","text","e","target","value","className","isAuth","to","href","onSubmit","preventDefault","axios","post","process","password","then","res","toast","success","data","message","catch","err","console","log","error","response","errors","type","onChange","required","removeCookie","key","window","cookie","remove","expires","removeLocalStorage","localStorage","removeItem","authenticate","next","token","set","setItem","JSON","stringify","setLocalStorage","user","get","getCookie","getItem","parse","factory","define","module","exports","OldCookies","Cookies","api","noConflict","extend","i","result","arguments","length","attributes","decode","s","replace","decodeURIComponent","init","converter","document","path","defaults","Date","toUTCString","test","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","json","jar","cookies","parts","slice","join","charAt","read","getJSON","withConverter"],"mappings":";+LAyHeA,UA/GE,SAACC,GAAa,IAAD,EAEMC,mBAAS,CAErCC,KAAK,GACLC,MAAM,GACNC,UAAU,GACVC,UAAU,KAPY,mBAEnBC,EAFmB,KAETC,EAFS,KASnBJ,EAAmCG,EAAnCH,MAAMD,EAA6BI,EAA7BJ,KAAKE,EAAwBE,EAAxBF,UAAWC,EAAaC,EAAbD,UAEvBG,EAAe,SAAAC,GAAI,OAAI,SAAAC,GAEzBH,EAAY,2BAAKD,GAAN,kBAAiBG,EAAOC,EAAEC,OAAOC,WAiDhD,OACI,sBAAKC,UAAU,SAAf,UACEC,cAAS,cAAC,WAAD,CAAUC,GAAK,aAAc,KAExC,cAAC,IAAD,IAEI,0DACA,0DAA4B,mBAAGC,KAAK,SAAR,uBAE5B,qBAAKH,UAAU,OAAf,SACA,qBAAKA,UAAU,MAAf,SACA,uBAAMI,SAzDO,SAAAP,GACjBA,EAAEQ,iBACEhB,GAAQC,GAASC,EACfA,IAAcC,GAChBE,EAAY,eAAKD,IACjBa,IACGC,KADH,UACYC,wBADZ,iBAC8D,CAC1DnB,OACAC,QACAmB,SAAUlB,IAEXmB,MAAK,SAAAC,GACJjB,EAAY,2BACPD,GADM,IAETJ,KAAM,GACNC,MAAO,GACPC,UAAW,GACXC,UAAW,MAKboB,IAAMC,QAAQF,EAAIG,KAAKC,YAGxBC,OAAM,SAAAC,GACLvB,EAAY,2BACPD,GADM,IAETJ,KAAM,GACNC,MAAO,GACPC,UAAW,GACXC,UAAW,MAGb0B,QAAQC,IAAIF,GACZL,IAAMQ,MAAMH,EAAII,SAASP,KAAKQ,YAGlCV,IAAMQ,MAAM,yBAIdR,IAAMQ,MAAM,2BAeV,UACK,gCACG,uBAAOG,KAAK,OACZC,SAAY7B,EAAa,QACzBI,MAAOV,EACPoC,UAAQ,IACR,4CAEJ,gCACI,uBAAOF,KAAK,QACZC,SAAY7B,EAAa,SACzBI,MAAOT,EACPmC,UAAQ,IACR,6CAEJ,gCACI,uBAAOF,KAAK,WAAWE,UAAQ,EAC/BD,SAAY7B,EAAa,aACzBI,MAAOR,IAEP,gDAEJ,gCACI,uBAAOgC,KAAK,WACZC,SAAY7B,EAAa,aACzBI,MAAOP,EACPiC,UAAQ,IACR,wDAEJ,uBAAOF,KAAK,SAASlC,KAAK,SAASU,MAAM,uB,gCChHzD,6JAaa2B,EAAe,SAAAC,GACT,cAAXC,QACAC,IAAOC,OAAOH,EAAK,CACfI,QAAS,KAwBRC,EAAqB,SAAAL,GACf,cAAXC,QACAK,aAAaC,WAAWP,IAKnBQ,EAAe,SAACd,EAAUe,GA5Cd,IAACT,EAAK5B,EA6C3BmB,QAAQC,IAAI,yCAA0CE,GA7ChCM,EA8CZ,QA9CiB5B,EA8CRsB,EAASP,KAAKuB,MA7ClB,cAAXT,QACAC,IAAOS,IAAIX,EAAK5B,EAAO,CAEnBgC,QAAS,IA0BU,SAACJ,EAAK5B,GAClB,cAAX6B,QACAK,aAAaM,QAAQZ,EAAKa,KAAKC,UAAU1C,IAe7C2C,CAAgB,OAAQrB,EAASP,KAAK6B,MACtCP,KAISnC,EAAS,WAClB,GAAe,cAAX2B,QA9BiB,SAAAD,GACrB,GAAe,cAAXC,OACA,OAAOC,IAAOe,IAAIjB,GA6BIkB,CAAU,SAE5B,QAAIZ,aAAaa,QAAQ,SACdN,KAAKO,MAAMd,aAAaa,QAAQ,W,mBC5DvD,SAOE,SAAUE,GAUX,QAPO,2BAANC,KAAM,mCACqB,EAG3BC,EAAOC,QAAUH,MACU,EAEG,CAC9B,IAAII,EAAaxB,OAAOyB,QACpBC,EAAM1B,OAAOyB,QAAUL,IAC3BM,EAAIC,WAAa,WAEhB,OADA3B,OAAOyB,QAAUD,EACVE,IAfR,EAkBA,WACD,SAASE,IAGR,IAFA,IAAIC,EAAI,EACJC,EAAS,GACND,EAAIE,UAAUC,OAAQH,IAAK,CACjC,IAAII,EAAaF,UAAWF,GAC5B,IAAK,IAAI9B,KAAOkC,EACfH,EAAO/B,GAAOkC,EAAWlC,GAG3B,OAAO+B,EAGR,SAASI,EAAQC,GAChB,OAAOA,EAAEC,QAAQ,mBAAoBC,oBA0HtC,OAvHA,SAASC,EAAMC,GACd,SAASb,KAET,SAAShB,EAAKX,EAAK5B,EAAO8D,GACzB,GAAwB,qBAAbO,SAAX,CAQkC,kBAJlCP,EAAaL,EAAO,CACnBa,KAAM,KACJf,EAAIgB,SAAUT,IAEK9B,UACrB8B,EAAW9B,QAAU,IAAIwC,KAAkB,EAAb,IAAIA,KAAkC,MAArBV,EAAW9B,UAI3D8B,EAAW9B,QAAU8B,EAAW9B,QAAU8B,EAAW9B,QAAQyC,cAAgB,GAE7E,IACC,IAAId,EAASlB,KAAKC,UAAU1C,GACxB,UAAU0E,KAAKf,KAClB3D,EAAQ2D,GAER,MAAO7D,IAETE,EAAQoE,EAAUO,MACjBP,EAAUO,MAAM3E,EAAO4B,GACvBgD,mBAAmBC,OAAO7E,IACxBiE,QAAQ,4DAA6DC,oBAExEtC,EAAMgD,mBAAmBC,OAAOjD,IAC9BqC,QAAQ,2BAA4BC,oBACpCD,QAAQ,UAAWa,QAErB,IAAIC,EAAwB,GAC5B,IAAK,IAAIC,KAAiBlB,EACpBA,EAAWkB,KAGhBD,GAAyB,KAAOC,GACE,IAA9BlB,EAAWkB,KAWfD,GAAyB,IAAMjB,EAAWkB,GAAeC,MAAM,KAAK,KAGrE,OAAQZ,SAASvC,OAASF,EAAM,IAAM5B,EAAQ+E,GAG/C,SAASlC,EAAKjB,EAAKsD,GAClB,GAAwB,qBAAbb,SAAX,CAUA,IANA,IAAIc,EAAM,GAGNC,EAAUf,SAASvC,OAASuC,SAASvC,OAAOmD,MAAM,MAAQ,GAC1DvB,EAAI,EAEDA,EAAI0B,EAAQvB,OAAQH,IAAK,CAC/B,IAAI2B,EAAQD,EAAQ1B,GAAGuB,MAAM,KACzBnD,EAASuD,EAAMC,MAAM,GAAGC,KAAK,KAE5BL,GAA6B,MAArBpD,EAAO0D,OAAO,KAC1B1D,EAASA,EAAOwD,MAAM,GAAI,IAG3B,IACC,IAAIhG,EAAOyE,EAAOsB,EAAM,IAIxB,GAHAvD,GAAUsC,EAAUqB,MAAQrB,GAAWtC,EAAQxC,IAC9CyE,EAAOjC,GAEJoD,EACH,IACCpD,EAASW,KAAKO,MAAMlB,GACnB,MAAOhC,IAKV,GAFAqF,EAAI7F,GAAQwC,EAERF,IAAQtC,EACX,MAEA,MAAOQ,KAGV,OAAO8B,EAAMuD,EAAIvD,GAAOuD,GAoBzB,OAjBA5B,EAAIhB,IAAMA,EACVgB,EAAIV,IAAM,SAAUjB,GACnB,OAAOiB,EAAIjB,GAAK,IAEjB2B,EAAImC,QAAU,SAAU9D,GACvB,OAAOiB,EAAIjB,GAAK,IAEjB2B,EAAIxB,OAAS,SAAUH,EAAKkC,GAC3BvB,EAAIX,EAAK,GAAI6B,EAAOK,EAAY,CAC/B9B,SAAU,MAIZuB,EAAIgB,SAAW,GAEfhB,EAAIoC,cAAgBxB,EAEbZ,EAGDY,EAAK,mB","file":"static/js/11.5c7c91be.chunk.js","sourcesContent":["import React, {useState} from 'react';\nimport {ToastContainer, toast} from 'react-toastify';\nimport {isAuth} from \"../../helpers/auth\";\nimport axios from 'axios';\nimport {Redirect} from 'react-router-dom';\nimport 'react-toastify/dist/ReactToastify.css';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown'\n\n\nconst Register = (history) => {\n\n    const [formData, setFormData] = useState({\n\n        name:\"\",\n        email:\"\",\n        password1:\"\",\n        password2:\"\",\n    });\n    const {email,name,password1, password2} = formData\n\n    const handleChange = text => e => {\n        \n        setFormData({ ...formData, [text]: e.target.value });\n      };\n   \n    const handleSubmit = e => {\n        e.preventDefault();\n        if (name && email && password1) {\n          if (password1 === password2) {\n            setFormData({ ...formData });\n            axios\n              .post( `/api/register`, {\n                name,\n                email,\n                password: password1\n              })\n              .then(res => {\n                setFormData({\n                  ...formData,\n                  name: '',\n                  email: '',\n                  password1: '',\n                  password2: ''\n                  \n                }\n                );\n                \n                toast.success(res.data.message);\n                \n              })\n              .catch(err => {\n                setFormData({\n                  ...formData,\n                  name: '',\n                  email: '',\n                  password1: '',\n                  password2: ''\n                  \n                });\n                console.log(err);\n                toast.error(err.response.data.errors);\n              });\n          } else {\n            toast.error(\"Passwords don't match\");\n           \n          }\n        } else {\n          toast.error('Please fill all fields');\n        }\n      };\n\n    return ( \n        <div className=\"Signup\">\n        { isAuth()?<Redirect to = '/profile' />:null }\n        \n        <ToastContainer/>\n            \n            <h1>Sign Up to Notes Gallery</h1>\n            <p>Already have an account? <a href=\"/login\">Log In</a></p>\n            \n            <div className=\"wrap\">\n            <div className=\"box\">\n            <form onSubmit={handleSubmit}>\n                 <div>\n                    <input type=\"text\" \n                    onChange = {handleChange('name')} \n                    value={name}\n                    required/>\n                    <label>Name</label>\n                </div>\n                <div>\n                    <input type=\"email\" \n                    onChange = {handleChange('email')} \n                    value={email}\n                    required/>\n                    <label>Email</label>\n                </div>\n                <div>\n                    <input type=\"password\" required \n                    onChange = {handleChange('password1')} \n                    value={password1}                    \n                    />\n                    <label>Password</label>\n                </div>\n                <div>\n                    <input type=\"password\" \n                    onChange = {handleChange('password2')} \n                    value={password2}                 \n                    required />\n                    <label>Confirm Password</label>\n                </div>\n                <input type=\"submit\" name=\"Signup\" value=\"submit\" />\n            </form>\n            </div>\n            \n        </div>\n        </div>\n     );\n}\n \nexport default Register;","import cookie from 'js-cookie';\n\n// Set in Cookie\nexport const setCookie = (key, value) => {\n    if (window !== 'undefined') {\n        cookie.set(key, value, {\n            // 1 Day\n            expires: 1\n        }) \n    }\n}\n\n// remove from cookie\nexport const removeCookie = key => {\n    if (window !== 'undefined') {\n        cookie.remove(key, {\n            expires: 1\n        });\n    }\n};\n\n\n//Get from cookie like token\n\n// Get from cookie such as stored token\n// Will be useful when we need to make request to server with token\nexport const getCookie = key => {\n    if (window !== 'undefined') {\n        return cookie.get(key);\n    }\n};\n\n// Set in localstorage\nexport const setLocalStorage = (key, value) => {\n    if (window !== 'undefined') {\n        localStorage.setItem(key, JSON.stringify(value));\n    }\n};\n\n// Remove from localstorage\nexport const removeLocalStorage = key => {\n    if (window !== 'undefined') {\n        localStorage.removeItem(key);\n    }\n};\n\n// Authenticate user by passing data to cookie and localstorage during signin\nexport const authenticate = (response, next) => {\n    console.log('AUTHENTICATE HELPER ON SIGNIN RESPONSE', response);\n    setCookie('token', response.data.token);\n    setLocalStorage('user', response.data.user);\n    next();\n};\n\n// Access user info from localstorage\nexport const isAuth = () => {\n    if (window !== 'undefined') {\n        const cookieChecked = getCookie('token');\n        if (cookieChecked) {\n            if (localStorage.getItem('user')) {\n                return JSON.parse(localStorage.getItem('user'));\n            } else {\n                return false;\n            }\n        }\n    }\n};\n\nexport const signout = next => {\n    removeCookie('token');\n    removeLocalStorage('user');\n   \n};\n\n//update user data in local storage\nexport const updateUser = (response, next) => {\n    console.log('UPDATE USER IN LOCALSTORAGE HELPERS', response);\n    if (typeof window !== 'undefined') {\n        let auth = JSON.parse(localStorage.getItem('user'));\n        auth = response.data;\n        localStorage.setItem('user', JSON.stringify(auth));\n    }\n    next();\n};","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"],"sourceRoot":""}