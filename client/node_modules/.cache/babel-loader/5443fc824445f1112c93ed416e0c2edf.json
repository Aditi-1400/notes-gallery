{"ast":null,"code":"var _jsxFileName = \"/home/asus-pc/Desktop/projects/notes_library/client/src/pages/Login/activate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport axios from 'axios';\nimport jwt from 'jsonwebtoken';\nimport { isAuth } from '../../helpers/auth';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Activate = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    name: '',\n    token: '',\n    show: true\n  });\n  useEffect(() => {\n    /*get token from params */\n    let token = match.params.token;\n    let {\n      name\n    } = jwt.decode(token);\n\n    if (token) {\n      setFormData({ ...formData,\n        name,\n        token\n      });\n    }\n  }, [match.params]);\n  const {\n    name,\n    token\n  } = formData;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post(`http://localhost:5000/api/activation`, {\n      token\n    }).then(res => {\n      setFormData({ ...formData,\n        show: false\n      });\n      toast.success(res.data.message);\n      history.push('/login');\n    }).catch(err => {\n      toast.error(err.response.data.errors);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [isAuth() ? /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this) : null, /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lt\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Welcome \", name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            name: \"Activate your Account\",\n            value: \"Activate your Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Or sign up again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            name: \"Sign Up\",\n            value: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Activate, \"ntDumjxSTbbkrVBLiKWkSZXmF4w=\");\n\n_c = Activate;\nexport default Activate;\n\nvar _c;\n\n$RefreshReg$(_c, \"Activate\");","map":{"version":3,"sources":["/home/asus-pc/Desktop/projects/notes_library/client/src/pages/Login/activate.js"],"names":["React","useState","useEffect","ToastContainer","toast","axios","jwt","isAuth","Redirect","Activate","match","history","formData","setFormData","name","token","show","params","decode","handleSubmit","e","preventDefault","post","then","res","success","data","message","push","catch","err","error","response","errors"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport axios from 'axios';\nimport jwt from 'jsonwebtoken';\nimport {  isAuth } from '../../helpers/auth';\nimport { Redirect } from 'react-router-dom';\n\n\nconst Activate = ({ match, history }) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    token: '',\n    show: true\n  });\n\n  useEffect(() => {\n\n    /*get token from params */\n    let token = match.params.token;\n    let { name } = jwt.decode(token);\n   \n    if (token) {\n      setFormData({ ...formData, name, token });\n    }\n\n  \n  }, [match.params]);\n  const { name, token} = formData;\n\n  const handleSubmit = e => {\n    \n    e.preventDefault();\n\n    axios\n      .post(`http://localhost:5000/api/activation`, {\n        token\n      })\n      .then(res => {\n        setFormData({\n          ...formData,\n          show: false\n        });\n     \n        toast.success(res.data.message);\n        history.push('/login');\n      })\n      .catch(err => {\n        toast.error(err.response.data.errors);\n      });\n  };\n  return ( \n    <div>\n    {isAuth() ? <Redirect to='/' /> : null}\n\n        <ToastContainer/>\n        <div id=\"wrapper\">\n        <div className=\"lt\">\n        <form onSubmit={handleSubmit}>\n             <h2>Welcome {name}</h2>\n             <input type=\"submit\" name=\"Activate your Account\" value=\"Activate your Account\" />\n             <p>Or sign up again</p>\n             <input type=\"submit\" name=\"Sign Up\" value=\"Sign Up\" />\n        </form>\n        </div>\n        </div>\n        \n\n        </div>\n );\n\n};\n\nexport default Activate;"]},"metadata":{},"sourceType":"module"}